SOLVER =	main.c \
			check.c \
			dquote.c \
			error.c \
			find_cost.c \
			list_utils.c \
			list.c \
			push.c \
			reset.c \
			rotate.c \
			setup.c \
			solve_3.c \
			solve.c \
			stak_a.c \
			swap.c \

LIBFT_DIR = ./0_LIBFT/

SOLVER_DIR = ./1_SOLVER/

SRCS = $(addprefix $(SOLVER_DIR), $(SOLVER))

OBJS = $(SRCS:.c=.o)

AR = ./libft.a 

RM = rm -f 

CFLAGS = -Wall -Wextra -Werror

NAME = push_swap

all: $(NAME)

$(AR): $(OBJS) 
	make -C $(LIBFT_DIR) 

$(NAME): $(OBJS) $(AR) 
	$(CC) $(CFLAGS) $(OBJS) $(AR) -o $(NAME)

clean: 
	make -C $(LIBFT_DIR) clean
	$(RM) $(OBJS) 

fclean: clean 
	make -C $(LIBFT_DIR) fclean
	$(RM) $(AR) $(PARASITE) $(NAME)

mini: main clean

re: fclean all

exe: all
	./$(NAME) 
	
new: all 
	./$(NAME) 228 172 -370 -268 -495 -416 -195 467 199 -80 -137 -42 47 49 -38 55 367 -266 288 396 -40 -360 198 -222 -316 68 -294 351 19 -50 493 336 -335 118 317 -150 399 -325 393 142 -350 51 -245 241 -475 80 192 -146 -238 -353 296 -292 -253 406 177 457 490 116 -260 -240 234 -201 382 -480 -19 79 45 -184 305 -111 -259 209 -446 447 -132 466 -48 112 -349 346 -119 -113 71 -368 -59 -186 -315 -68 130 -94 6 473 -414 414 -421 -249 -306 -387 -224 441 377 257 369 324 423 161 -217 316 153 254 353 -434 400 426 -397 459 -364 123 67 380 374 -79 126 313 0 -311 -172 -417 242 425 -459 278 281 464 -340 -91 173 259 412 -135 -440 -500 -12 -324 350 -44 -450 454 222 81 -131 -155 110 -447 357 -45 83 -83 390 233 480 244 8 -187 -174 -308 483 225 474 -403 -202 335 -380 365 -465 308 -331 261 -85 477 -466 188 -312 -400 91 354 -299 364 -152 375 -15 -58 -144 427 175 -27 -303 -214 -185 315 388 -477 -449 398 -190 70 -198 -17 -175 96 366 347 428 -26 -378 327 -156 -330 -170 82 249 -54 395 -197 92 -129 194 -73 -53 -326 159 56 100 -203 383 -445 420 405 -126 320 -56 291 -96 -252 1 -443 372 478 -457 -305 -228 -301 -128 38 216 -442 -386 152 -339 41 -165 -321 -361 -57 205 -399 -121 345 402 -211 284 227 253 226 -218 -276 492 50 -61 -313 -16 180 -32 179 -162 231 245 499 488 -490 -216 -344 440 455 -405 -220 344 -223 -369 95 -227 481 -470 -485 -469 3 433 -251 -64 129 221 -166 -433 -289 410 -392 20 -139 12 76 18 -31 125 26 -448 182 22 -231 -180 201 -478 -13 139 169 334 -194 -34 120 -145 450 -77 403 -164 223 271 39 -295 389 156 392 358 -120 -345 -208 -362 64 145 -381 -28 -41 -300 -89 -322 348 121 338 133 282 -499 -90 462 29 -60 119 269 -473 32 -169 422 251 -2 87 247 268 -410 452 290 262 -320 -348 274 -488 42 -115 27 160 -439 -219 -49 325 149 266 -317 355 294 309 -287 -281 65 469 28 -329 256 114 -29 449 401 -376 -436 -491 273 -347 475 -246 -138 10 -272 379 -298 -173 -258 -269 376 -234 158 189 -178 -47 430 453 -366 -109 -435 287 -233 280 -232 30 444 -463 84 -492 413 -409 -9 -452 -293 330 187 102 -30 239 341 24 485 371 -333 267 54 109 218 -411 60 -134 -367 -43 -431 246 89 -487 69 -188 460 94 378 391 25 -453 438 -161 434 -270 -398 137 -192 -261 17 220 370 107 -1 | wc -l

old: all
	./push_swap_old 228 172 -370 -268 -495 -416 -195 467 199 -80 -137 -42 47 49 -38 55 367 -266 288 396 -40 -360 198 -222 -316 68 -294 351 19 -50 493 336 -335 118 317 -150 399 -325 393 142 -350 51 -245 241 -475 80 192 -146 -238 -353 296 -292 -253 406 177 457 490 116 -260 -240 234 -201 382 -480 -19 79 45 -184 305 -111 -259 209 -446 447 -132 466 -48 112 -349 346 -119 -113 71 -368 -59 -186 -315 -68 130 -94 6 473 -414 414 -421 -249 -306 -387 -224 441 377 257 369 324 423 161 -217 316 153 254 353 -434 400 426 -397 459 -364 123 67 380 374 -79 126 313 0 -311 -172 -417 242 425 -459 278 281 464 -340 -91 173 259 412 -135 -440 -500 -12 -324 350 -44 -450 454 222 81 -131 -155 110 -447 357 -45 83 -83 390 233 480 244 8 -187 -174 -308 483 225 474 -403 -202 335 -380 365 -465 308 -331 261 -85 477 -466 188 -312 -400 91 354 -299 364 -152 375 -15 -58 -144 427 175 -27 -303 -214 -185 315 388 -477 -449 398 -190 70 -198 -17 -175 96 366 347 428 -26 -378 327 -156 -330 -170 82 249 -54 395 -197 92 -129 194 -73 -53 -326 159 56 100 -203 383 -445 420 405 -126 320 -56 291 -96 -252 1 -443 372 478 -457 -305 -228 -301 -128 38 216 -442 -386 152 -339 41 -165 -321 -361 -57 205 -399 -121 345 402 -211 284 227 253 226 -218 -276 492 50 -61 -313 -16 180 -32 179 -162 231 245 499 488 -490 -216 -344 440 455 -405 -220 344 -223 -369 95 -227 481 -470 -485 -469 3 433 -251 -64 129 221 -166 -433 -289 410 -392 20 -139 12 76 18 -31 125 26 -448 182 22 -231 -180 201 -478 -13 139 169 334 -194 -34 120 -145 450 -77 403 -164 223 271 39 -295 389 156 392 358 -120 -345 -208 -362 64 145 -381 -28 -41 -300 -89 -322 348 121 338 133 282 -499 -90 462 29 -60 119 269 -473 32 -169 422 251 -2 87 247 268 -410 452 290 262 -320 -348 274 -488 42 -115 27 160 -439 -219 -49 325 149 266 -317 355 294 309 -287 -281 65 469 28 -329 256 114 -29 449 401 -376 -436 -491 273 -347 475 -246 -138 10 -272 379 -298 -173 -258 -269 376 -234 158 189 -178 -47 430 453 -366 -109 -435 287 -233 280 -232 30 444 -463 84 -492 413 -409 -9 -452 -293 330 187 102 -30 239 341 24 485 371 -333 267 54 109 218 -411 60 -134 -367 -43 -431 246 89 -487 69 -188 460 94 378 391 25 -453 438 -161 434 -270 -398 137 -192 -261 17 220 370 107 -1 | wc -l

leak: $(AR)
	g$(CC) $(CFLAGS) $(SRCS) $(AR) -o $(NAME) 
	valgrind -s --leak-check=full --show-leak-kinds=all ./push_swap 1 5

.PHONY: all clean fclean mini re exe